(this.webpackJsonppixabay=this.webpackJsonppixabay||[]).push([[0],{12:function(e,t,a){},24:function(e,t,a){e.exports=a(69)},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),o=(a(12),a(10)),i=a(7),l=a.n(i),u=a(8),g=a(22),m=a(3),p=a(4),h=a(6),f=a(5),d=function(e){var t=e.image,a=e.title,n=e.largePic,c=e.setLargeImg;return r.a.createElement("li",{className:"ImageGalleryItem"},r.a.createElement("img",{src:t,alt:a,className:"ImageGalleryItem-image",onClick:function(){return c(n)}}))},v=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).escFunction=function(t){"Escape"===t.key&&e.props.setLargeImg(null)},e.closeModalByClick=function(t){"DIV"===t.target.nodeName&&e.props.setLargeImg(null)},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.escFunction)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.escFunction)}},{key:"render",value:function(){return r.a.createElement("div",{className:"Overlay"},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:this.props.largeImageURL,alt:""})))}}]),a}(n.Component),y=a(23),b=a.n(y),E=function(){return r.a.createElement(b.a,{type:"Circles",color:"#00BFFF",height:100,width:100,timeout:3e3})},L=(a(51),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={open:!1,largeImageURL:""},e.setLargeImg=function(t){e.setState({largeImageURL:t})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.images;return r.a.createElement(r.a.Fragment,null,this.props.isLoading?r.a.createElement(E,null):r.a.createElement("ul",{className:"ImageGallery"},t?t.map((function(t){return r.a.createElement(d,{image:t.webformatURL,title:t.title,largePic:t.largeImageURL,setLargeImg:e.setLargeImg,key:t.id})})):null),this.state.largeImageURL&&r.a.createElement(v,{largeImageURL:this.state.largeImageURL,state:this.state,setLargeImg:this.setLargeImg}))}}]),a}(n.Component)),k=a(9),x=a.n(k),I=function(e){var t=e.fetchPics;return r.a.createElement("button",{className:"Button",onClick:t},"Load more")},O=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={searchText:"",apiUrl:"https://pixabay.com/api",apiKey:"17140090-8e72979244da9bcaf046d5df2",images:[],perPage:12,page:1,query:"",isLoading:!1},e.loaderToggle=function(){e.setState((function(e){return{isLoading:!e.isLoading}}))},e.onTextChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(g.a)({},r,n))},e.getPics=function(t){t.preventDefault(),e.setState({query:e.state.searchText,page:1,searchText:""})},e.getResults=function(){var t=Object(u.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),""!==a.target.value){t.next=5;break}e.setState({images:[]}),t.next=19;break;case 5:return t.prev=5,e.loaderToggle(),t.next=9,x.a.get("".concat(e.state.apiUrl,"/?key=").concat(e.state.apiKey,"&q=").concat(e.state.searchText,"&page=").concat(e.state.page,"&image_type=photo&per_page=").concat(e.state.perPage,"&safesearch=false"));case 9:n=t.sent,e.setState({images:n.data.hits,page:2}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),console.log(t.t0);case 16:return t.prev=16,e.loaderToggle(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[5,13,16,19]])})));return function(e){return t.apply(this,arguments)}}(),e.fetchPics=Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loaderToggle(),t.next=4,x.a.get("".concat(e.state.apiUrl,"/?key=").concat(e.state.apiKey,"&q=").concat(e.state.searchText,"&page=").concat(e.state.page,"&image_type=photo&per_page=").concat(e.state.perPage,"&safesearch=false"));case 4:a=t.sent,e.setState((function(e){return{images:[].concat(Object(o.a)(e.images),Object(o.a)(a.data.hits)),page:e.page+1}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:return t.prev=11,e.loaderToggle(),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])}))),e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.query!==this.state.query&&this.fetchPics()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:this.getResults},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"})),r.a.createElement("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.searchText,onChange:this.onTextChange,name:"searchText"}))),this.state.images.length>0?r.a.createElement(L,{images:this.state.images,isLoading:this.state.isLoading}):null,this.state.images.length>0?r.a.createElement(I,{fetchPics:this.fetchPics}):null)}}]),a}(n.Component);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.9ba6de5b.chunk.js.map